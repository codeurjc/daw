import{w as f,y as p,a as r,p as t}from"./chunk-EPOLDU6W-jf5jzJVn.js";import{a as x,u as h}from"./books-service-CWx8o5qt.js";async function v({params:s}){return await x(s.id)}const m=f(function({loaderData:u}){const e=u,o=p(),i=r.useRef(null),n=r.useRef(null);r.useEffect(()=>{e&&(i.current&&(i.current.value=e.title),n.current&&(n.current.value=e.description))},[e]);async function d(a){a.preventDefault();const c=i.current?.value??"",l=n.current?.value??"";c&&e?.id&&await h(e.id,c,l)&&o(`/book/${e.id}`)}return e?t.jsxs("div",{children:[t.jsx("h1",{children:"Edit Book"}),t.jsxs("form",{onSubmit:d,children:[t.jsxs("div",{children:[t.jsx("label",{children:"Title: "}),t.jsx("input",{type:"text",ref:i,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{children:"Description: "}),t.jsx("input",{type:"text",ref:n})]}),t.jsx("button",{type:"submit",children:"Save"}),t.jsx("button",{type:"button",onClick:()=>o(`/book/${e.id}`),children:"Cancel"})]})]}):t.jsxs("div",{children:[t.jsx("p",{children:"Book not found"}),t.jsx("button",{onClick:()=>o("/"),children:"Back"})]})});export{v as clientLoader,m as default};
